/**
 * SystÃ¨me de traduction i18n
 */

const translations = {
    fr: {
        // Navigation
        'nav.about': 'Ã€ propos',
        'nav.experience': 'ExpÃ©rience',
        'nav.skills': 'CompÃ©tences',
        'nav.projects': 'Projets',
        'nav.contact': 'Contact',

        // Hero
        'hero.title': 'Etudiant IngÃ©nieur Logiciel & IA',
        'hero.subtitle': 'En recherche d\'un stage de fin d\'Ã©tude en ingÃ©nierie logicielle et IA Ã  partir de Septembre 2026',
        'hero.cta': 'Voir mes projets',

        // About
        'about.title': 'Ã€ propos',
        'about.p1': 'Ã‰tudiant ingÃ©nieur en derniÃ¨re annÃ©e Ã  l\'UTBM, actuellement en maÃ®trise en Intelligence Artificielle Ã  l\'UQAC (UniversitÃ© du QuÃ©bec Ã  Chicoutimi). SpÃ©cialisÃ© en ingÃ©nierie logicielle et intelligence artificielle, avec une expÃ©rience en vision par ordinateur et gÃ©nÃ©ration d\'images synthÃ©tiques.',
        'about.p2': 'Mon parcours international (France, SlovÃ©nie, Belgique, Canada) m\'a permis d\'acquÃ©rir des compÃ©tences variÃ©es allant du dÃ©veloppement bas niveau en C/C++ au dÃ©veloppement web puis au deep learning avec PyTorch, en passant par la programmation parallÃ¨le (OpenMP, MPI, CUDA).',
        'about.info.school': 'UTBM + UQAC',
        'about.info.location': 'Chicoutimi, QuÃ©bec',
        'about.info.languages': 'FranÃ§ais, Anglais C1',
        'about.info.internship': 'Stage Septembre 2026',
        'about.stats.projects': 'Projets',
        'about.stats.internship': 'Mois de stage',
        'about.stats.countries': 'Pays',

        // Experience
        'exp.title': 'ExpÃ©rience & Formation',
        'exp.uqac.title': 'MaÃ®trise en Informatique, spÃ©. IA',
        'exp.uqac.company': 'UniversitÃ© du QuÃ©bec Ã  Chicoutimi (UQAC), Canada',
        'exp.uqac.desc.main': 'SpÃ©cialisation en Intelligence Artificielle. Machine Learning, Deep Learning, Big Data, Vision artificielle. Programmation parallÃ¨le (OpenMP, MPI, OpenCL). Projet sÃ©minaire IA,',
        'exp.uqac.hackathon': 'Hackathon CITÃ—UQAC (2Ã¨me place)',
        'exp.jcd.title': 'Stagiaire IngÃ©nieur Logiciel & IA',
        'exp.jcd.company': 'John Cockerill Defense, Loncin, Belgique',
        'exp.jcd.desc': 'GÃ©nÃ©ration d\'images synthÃ©tiques et augmentation de donnÃ©es. Utilisation de modÃ¨les d\'IA gÃ©nÃ©rative et de dÃ©tection. Automatisation des tÃ¢ches de gÃ©nÃ©ration, d\'annotation et de description. Benchmark des performances et conception d\'algorithmes d\'estimation.',
        'exp.utbm.br.title': 'IngÃ©nieur Informatique, filiÃ¨re DÃ©veloppement, filiÃ¨re IA',
        'exp.utbm.br.company': 'ðŸŽ“ UTBM, Belfort, France',
        'exp.utbm.br.desc': 'Programmation objet, bases de donnÃ©es, dÃ©veloppement web. IngÃ©nierie et qualitÃ© logicielle, Java entreprise. Informatique thÃ©orique classique et quantique, recherche opÃ©rationnelle, optimisation.',
        'exp.utbm.tc.title': 'Tronc Commun',
        'exp.utbm.tc.company': 'ðŸŽ“ UTBM, Belfort, France',
        'exp.utbm.tc.desc': 'Fondamentaux de l\'informatique : algorithmique, structures de donnÃ©es, programmation impÃ©rative. AlgÃ¨bre, analyse, probabilitÃ©s et statistiques. Introduction aux systÃ¨mes informatiques, rÃ©seaux et bases de donnÃ©es.', 
        'exp.slovenia.title': 'Semestre d\'Ã©tude en SlovÃ©nie',
        'exp.slovenia.company': 'ðŸŽ“ FAMNIT, University of Primorska, Koper',
        'exp.slovenia.desc': 'Cours dispensÃ©s en anglais : mathÃ©matiques, informatique, analyse de donnÃ©es. Travaux dirigÃ©s et projets en Ã©quipe, communication technique en anglais.',

        // Skills
        'skills.title': 'CompÃ©tences',
        'skills.languages': 'Langages',
        'skills.ai': 'IA & Machine Learning',
        'skills.hpc': 'ParallÃ©lisme & HPC',
        'skills.tools': 'Outils & Frameworks',

        // Projects
        'projects.title': 'Projets',
        'projects.featured': 'â­ Mis en avant',
        'projects.all': 'Tous les projets',
        'projects.loading': 'Chargement des projets...',

        // Contact
        'contact.title': 'Contact',
        'contact.text': 'IntÃ©ressÃ© par mon profil ? N\'hÃ©sitez pas Ã  me contacter !',

        // Footer
        'footer.rights': 'Â© 2026 Mino1289. Tous droits rÃ©servÃ©s.',
        'footer.note': 'Ce portfolio se met Ã  jour automatiquement via l\'API GitHub.',

        // Modal
        'modal.description': 'ðŸ“ Description',
        'modal.technologies': 'ðŸ·ï¸ Technologies',
        'modal.stats': 'ðŸ“Š Statistiques',
        'modal.links': 'ðŸ”— Liens',
        'modal.github': 'Voir sur GitHub',
        'modal.website': 'Site Web',
        'modal.stars': 'â­ Stars',
        'modal.forks': 'ðŸ”± Forks',
        'modal.language': 'ðŸ’» Langage',
        'modal.size': 'ðŸ“¦ Taille',
        'modal.updated': 'Mis Ã  jour le',
        'modal.noDesc': 'Aucune description disponible.',

        // Tags
        'tag.generativeAI': 'IA GÃ©nÃ©rative',
        'tag.english': 'Anglais',
        'tag.algorithms': 'Algorithmique',
        'tag.fundamentals': 'Fondamentaux',
        'tag.compSci': 'Science informatique'
    },
    en: {
        // Navigation
        'nav.about': 'About',
        'nav.experience': 'Experience',
        'nav.skills': 'Skills',
        'nav.projects': 'Projects',
        'nav.contact': 'Contact',

        // Hero
        'hero.title': 'Software & AI Engineering Student',
        'hero.subtitle': 'Looking for a final year internship in software engineering and AI starting September 2026',
        'hero.cta': 'View my projects',

        // About
        'about.title': 'About',
        'about.p1': 'Final year engineering student at UTBM, currently pursuing a Master\'s in Artificial Intelligence at UQAC (UniversitÃ© du QuÃ©bec Ã  Chicoutimi). Specialized in software engineering and artificial intelligence, with experience in computer vision and synthetic image generation.',
        'about.p2': 'My international background (France, Slovenia, Belgium, Canada) has allowed me to acquire diverse skills ranging from low-level C/C++ development to web development and then to deep learning with PyTorch, including parallel programming (OpenMP, MPI, CUDA).',
        'about.info.school': 'UTBM + UQAC',
        'about.info.location': 'Chicoutimi, Quebec',
        'about.info.languages': 'French, English C1',
        'about.info.internship': 'Internship Sept. 2026',
        'about.stats.projects': 'Projects',
        'about.stats.internship': 'Months internship',
        'about.stats.countries': 'Countries',

        // Experience
        'exp.title': 'Experience & Education',
        'exp.uqac.title': 'Master\'s in Computer Science, AI spec.',
        'exp.uqac.company': 'UniversitÃ© du QuÃ©bec Ã  Chicoutimi (UQAC), Canada',
        'exp.uqac.desc.main': 'Specialization in Artificial Intelligence. Machine Learning, Deep Learning, Big Data, Computer Vision. Parallel programming (OpenMP, MPI, OpenCL). AI seminar project,',
        'exp.uqac.hackathon': 'CITÃ—UQAC Hackathon (2nd place)',
        'exp.jcd.title': 'Software & AI Engineering Intern',
        'exp.jcd.company': 'John Cockerill Defense, Loncin, Belgium',
        'exp.jcd.desc': 'Synthetic image generation and data augmentation. Use of generative AI and detection models. Automation of generation, annotation and description tasks. Performance benchmarking and estimation algorithm design.',
        'exp.utbm.br.title': 'Computer Engineering, Development & AI tracks',
        'exp.utbm.br.company': 'ðŸŽ“ UTBM, Belfort, France',
        'exp.utbm.br.desc': 'Object-oriented programming, databases, web development. Software engineering and quality, enterprise Java. Classical and quantum theoretical computer science, operations research, optimization.',
        'exp.utbm.tc.title': 'Common Core',
        'exp.utbm.tc.company': 'ðŸŽ“ UTBM, Belfort, France',
        'exp.utbm.tc.desc': 'Computer science fundamentals: algorithms, data structures, imperative programming. Algebra, analysis, probability and statistics. Introduction to computer systems, networks and databases.',
        'exp.slovenia.title': 'Study semester in Slovenia',
        'exp.slovenia.company': 'ðŸŽ“ FAMNIT, University of Primorska, Koper',
        'exp.slovenia.desc': 'Courses taught in English: mathematics, computer science, data analysis. Group projects and tutorials, technical communication in English.',

        // Skills
        'skills.title': 'Skills',
        'skills.languages': 'Languages',
        'skills.ai': 'AI & Machine Learning',
        'skills.hpc': 'Parallelism & HPC',
        'skills.tools': 'Tools & Frameworks',

        // Projects
        'projects.title': 'Projects',
        'projects.featured': 'â­ Featured',
        'projects.all': 'All projects',
        'projects.loading': 'Loading projects...',

        // Contact
        'contact.title': 'Contact',
        'contact.text': 'Interested in my profile? Feel free to contact me!',

        // Footer
        'footer.rights': 'Â© 2026 Mino1289. All rights reserved.',
        'footer.note': 'This portfolio updates automatically via the GitHub API.',

        // Modal
        'modal.description': 'ðŸ“ Description',
        'modal.technologies': 'ðŸ·ï¸ Technologies',
        'modal.stats': 'ðŸ“Š Statistics',
        'modal.links': 'ðŸ”— Links',
        'modal.github': 'View on GitHub',
        'modal.website': 'Website',
        'modal.stars': 'â­ Stars',
        'modal.forks': 'ðŸ”± Forks',
        'modal.language': 'ðŸ’» Language',
        'modal.size': 'ðŸ“¦ Size',
        'modal.updated': 'Updated on',
        'modal.noDesc': 'No description available.',

        // Tags
        'tag.generativeAI': 'Generative AI',
        'tag.english': 'English',
        'tag.algorithms': 'Algorithms',
        'tag.fundamentals': 'Fundamentals',
        'tag.compSci': 'Computer Science'
    }
};

class I18n {
    constructor() {
        this.currentLang = localStorage.getItem('lang') || 'fr';
        this.init();
    }

    init() {
        // Appliquer la langue sauvegardÃ©e
        document.documentElement.lang = this.currentLang;
        this.updateContent();
        this.setupToggle();
    }

    setupToggle() {
        const langToggle = document.getElementById('lang-toggle');
        if (langToggle) {
            langToggle.addEventListener('click', () => {
                this.toggleLanguage();
            });
            this.updateToggleButton();
        }
    }

    toggleLanguage() {
        this.currentLang = this.currentLang === 'fr' ? 'en' : 'fr';
        localStorage.setItem('lang', this.currentLang);
        document.documentElement.lang = this.currentLang;
        this.updateContent();
        this.updateToggleButton();
        
        // Recharger les projets pour mettre Ã  jour les descriptions
        if (window.portfolio) {
            window.portfolio.renderProjects();
        }
    }

    updateToggleButton() {
        const langToggle = document.getElementById('lang-toggle');
        if (langToggle) {
            langToggle.textContent = this.currentLang === 'fr' ? 'EN' : 'FR';
            langToggle.setAttribute('aria-label', this.currentLang === 'fr' ? 'Switch to English' : 'Passer en franÃ§ais');
        }
    }

    t(key) {
        return translations[this.currentLang][key] || key;
    }

    updateContent() {
        // Mettre Ã  jour tous les Ã©lÃ©ments avec data-i18n
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[this.currentLang][key]) {
                el.textContent = translations[this.currentLang][key];
            }
        });

        // Mettre Ã  jour les attributs avec data-i18n-attr
        document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
            const key = el.getAttribute('data-i18n-placeholder');
            if (translations[this.currentLang][key]) {
                el.placeholder = translations[this.currentLang][key];
            }
        });
    }

    getLang() {
        return this.currentLang;
    }
}

// Instance globale
let i18n;
document.addEventListener('DOMContentLoaded', () => {
    i18n = new I18n();
    window.i18n = i18n;
});
